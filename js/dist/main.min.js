/*! imluke.me 20-05-2013 */
(function(e){"use strict";var o=function(o){var n={toolbar:null,scroller:null},l=function(e){"ontouchstart"in window&&"function"==typeof e&&e.call()},r={listen:function(){n.scroller&&(n.scroller.addEventListener("touchend",r._touchEnd),n.scroller.addEventListener("scroll",r._endScroll)),n.toolbar&&n.toolbar.addEventListener("touchmove",r._touchMove),r._touchEnd(),r._endScroll()},noListen:function(){n.scroller&&(n.scroller.removeEventListener("touchend",r._touchEnd),n.scroller.removeEventListener("scroll",r._endScroll)),n.toolbar&&n.toolbar.removeEventListener("touchmove",r._touchMove)},_touchMove:function(e){e.preventDefault()},_touchEnd:function(){n.listenForScroll=!0},_endScroll:function(){if(n.listenForScroll){var o=parseInt(e.getComputedStyle(n.scroller).height,10);n.scroller.scrollTop+o===o?(n.scroller.scrollTop=1,n.listenForScroll=!1):n.scroller.scrollTop+o===n.scroller.scrollHeight&&(n.scroller.scrollTop=n.scroller.scrollTop-1)}else n.listenForScroll=!1}},t=function(e){l(function(){n=e,r.listen()})};this.on=function(){l(function(){r.noListen(),r.listen()})},this.off=function(){l(r.noListen)},t(o)};"undefined"!=typeof module&&module.exports&&(module.exports=o),"undefined"==typeof ender&&(this.AppScroll=o),"function"==typeof define&&define.amd&&define("AppScroll",[],function(){return o})}).call(this,window),function(e){var o;o={cache:{$snowflakeLink:e(".brand").parent(),$snowflakeText:e(".brand").next("h1"),$wobbleLinks:e(".js-wobble"),$toolbar:e(".bar"),$content:e("#content"),scroller:null},ready:function(){this.initializeListeners()},initializeListeners:function(){var e=o.cache;o.createAnimationOnHover.call(e.$snowflakeLink,"slideIn",e.$snowflakeText,!0),e.$wobbleLinks.each(function(){o.createAnimationOnHover.call(this,"wobble")}),o.createScroller(e.$toolbar,e.$content),o.startScroller()},createAnimationOnHover:function(o,n,l){var r=e(this);n||(n=r),n.addClass("animated"),r.on("mouseenter",function(){l&&n.show(),n.addClass(o)}),r.on("mouseleave",function(){n.removeClass(o),l&&n.fadeOut()})},createScroller:function(e,n){o.cache.scroller=new AppScroll({toolbar:e,scroller:n})},startScroller:function(){o.cache.scroller.on()},stopScroller:function(){o.cache.scroller.off()}},o.ready()}(jQuery);