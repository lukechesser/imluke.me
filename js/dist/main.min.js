/*! imluke.me 15-08-2013 */
(function(e){"use strict";e.fn.fitVids=function(i){var t={customSelector:null},o=document.createElement("div"),r=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return o.className="fit-vids-style",o.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>",r.parentNode.insertBefore(o,r),i&&e.extend(t,i),this.each(function(){var i=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com']","object","embed"];t.customSelector&&i.push(t.customSelector);var o=e(this).find(i.join(","));o.each(function(){var i=e(this);if(!("embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length)){var t="object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height(),o=isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10),r=t/o;if(!i.attr("id")){var s="fitvid"+Math.floor(999999*Math.random());i.attr("id",s)}i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),i.removeAttr("height").removeAttr("width")}})})}})(jQuery),function(e){var i,t,o,r;i={cache:{$homeLink:e(".js-home"),$wobbleLinks:e(".js-wobble"),$videos:e(".video"),$header:e(".js-fixed-header")},properties:{headerIsVisible:!0,scrollDownPadding:30,scrollUpPadding:5,lastPosition:window.scrollY},ready:function(){t=i.cache,this.initializeListeners(),this.initializeResponsiveVideos()},initializeListeners:function(){t.$wobbleLinks.each(function(){i.createAnimationOnHover.call(this,"wobble")}),this.testforTouch()?this.initializeScroller(!0):this.initializeScroller(!1)},initializeResponsiveVideos:function(){t.$videos.each(function(){e(this).fitVids()})},initializeScroller:function(t){o=i.properties.scrollUpPadding,r=i.properties.scrollDownPadding,t?e(window).on({touchmove:i.checkScrollPosition}):e(window).on({scroll:i.checkScrollPosition})},checkScrollPosition:function(){i.properties.headerIsVisible&&window.scrollY>i.properties.lastPosition?(r--,1>r&&(i.hideHeader(),r=i.properties.scrollDownPadding)):!i.properties.headerIsVisible&&window.scrollY<i.properties.lastPosition&&(o--,1>o&&(i.showHeader(),o=i.properties.scrollUpPadding)),i.properties.lastPosition=window.scrollY},showHeader:function(){t.$header.addClass("header-visible"),i.properties.headerIsVisible=!0},hideHeader:function(){t.$header.removeClass("header-visible"),i.properties.headerIsVisible=!1},createAnimationOnHover:function(i,t,o){var r=e(this);t||(t=r),t.addClass("animated"),r.on("mouseenter",function(){o&&t.show(),t.addClass(i)}),r.on("mouseleave",function(){t.removeClass(i),o&&t.fadeOut()})},testforTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?!0:!1}},i.ready()}(jQuery);